{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/HTMLElement.js","webpack:///./src/window.js","webpack:///./src/util/index.js","webpack:///./src/document.js","webpack:///./src/WindowProperties.js","webpack:///./src/constructor.js","webpack:///./src/Canvas.js","webpack:///./src/Image.js","webpack:///./src/Audio.js","webpack:///./src/EventIniter/TouchEvent.js","webpack:///./src/index.js","webpack:///./src/performance.js","webpack:///./src/Element.js","webpack:///./src/Node.js","webpack:///./src/EventTarget.js","webpack:///./src/HTMLAudioElement.js","webpack:///./src/HTMLMediaElement.js","webpack:///./src/EventIniter/index.js","webpack:///./src/navigator.js","webpack:///./src/XMLHttpRequest.js","webpack:///./src/WebSocket.js","webpack:///./src/FileReader.js","webpack:///./src/localStorage.js","webpack:///./src/location.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_util","_WindowProperties","HTMLElement","tagName","arguments","length","undefined","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","className","childern","style","width","innerWidth","height","innerHeight","insertBefore","noop","innerHTML","toUpperCase","Element","top","left","ret","parseInt","fontSize","Number","isNaN","keys","forEach","_constructor","document","navigator","XMLHttpRequest","WebSocket","Image","Audio","FileReader","localStorage","location","canvas","Canvas","setTimeout","setInterval","clearTimeout","clearInterval","requestAnimationFrame","cancelAnimationFrame","TouchEvent","window","events","readyState","visibilityState","documentElement","hidden","ontouchstart","ontouchmove","ontouchend","head","body","createElement","getElementById","id","getElementsByTagName","getElementsByName","querySelector","query","querySelectorAll","addEventListener","type","listener","push","removeEventListener","listeners","splice","dispatchEvent","event","wx","getSystemInfoSync","screenWidth","screenHeight","devicePixelRatio","screen","availWidth","availHeight","performance","HTMLImageElement","HTMLCanvasElement","createCanvas","getContext","getBoundingClientRect","setRealSize","w","h","resultion","parentElement","createImage","HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA","_innerAudioContext","WeakMap","_src","url","set","innerAudioContext","createInnerAudioContext","onCanplay","onPlay","onPause","onEnded","onError","src","HTMLAudioElement","console","warn","play","pause","mediaType","indexOf","newAudio","loop","autoplay","currentTime","seek","paused","target","currentTarget","touches","targetTouches","changedTouches","preventDefault","stopPropagation","touchEventHandlerFactory","touchEvent","Array","slice","timeStamp","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","_window","global","GameGlobal","__isAdapterInjected","platform","descriptor","getOwnPropertyDescriptor","configurable","parent","inject","getPerformance","wxPerf","initTime","now","clientPerfAdapter","assign","ELement","children","Node","childNodes","EventTarget","node","TypeError","copyNode","index","findIndex","child","_events","options","capture","once","passive","HTMLMediaElement","language","appVersion","userAgent","onLine","geolocation","getCurrentPosition","watchPosition","clearWatch","_url","_method","_requestHeader","_responseHeader","_requestTask","_triggerEvent","_len","args","_key","apply","_changeReadyState","onabort","onerror","onload","onloadstart","onprogress","ontimeout","onloadend","onreadystatechange","response","responseText","responseType","responseXML","status","statusText","upload","withCredentials","content-type","ev","cb","myRequestTask","abort","responseHeader","map","header","join","method","OPENED","data","Error","request","success","_ref","statusCode","ArrayBuffer","JSON","stringify","e","HEADERS_RECEIVED","LOADING","bytes","Uint8Array","len","byteLength","String","fromCharCode","DONE","fail","_ref2","errMsg","myHeader","UNSEND","_socketTask","protocols","binaryType","bufferedAmount","extensions","onclose","onmessage","onopen","protocol","test","CONNECTING","socketTask","connectSocket","isArray","onClose","res","CLOSED","onMessage","onOpen","OPEN","code","reason","CLOSING","close","send","getStorageInfoSync","getItem","getStorageSync","setItem","setStorageSync","removeItem","removeStorageSync","clear","clearStorageSync","href","reload"],"mappings":"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","file":"weapp-pixi-adapter.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","import Element from './Element'\nimport { noop } from './util'\nimport { innerWidth, innerHeight } from './WindowProperties'\n\nexport default class HTMLElement extends Element {\n  className = ''\n  childern = []\n  style = {\n    width: `${innerWidth}px`,\n    height: `${innerHeight}px`\n  }\n\n  insertBefore = noop\n\n  innerHTML = ''\n\n  constructor(tagName = '') {\n    super()\n    this.tagName = tagName.toUpperCase()\n  }\n\n  setAttribute(name, value) {\n    this[name] = value\n  }\n\n  getAttribute(name) {\n    return this[name]\n  }\n\n  get clientWidth() {\n    const ret = parseInt(this.style.fontSize, 10) * this.innerHTML.length\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  get clientHeight() {\n    const ret = parseInt(this.style.fontSize, 10)\n\n    return Number.isNaN(ret) ? 0 : ret\n  }\n\n  getBoundingClientRect() {\n    return {\n      top: 0,\n      left: 0,\n      width: innerWidth,\n      height: innerHeight\n    }\n  }\n\n  focus() {\n  }\n}\n","import Canvas from './Canvas'\n\nexport document from './document'\nexport navigator from './navigator'\nexport XMLHttpRequest from './XMLHttpRequest'\nexport WebSocket from './WebSocket'\nexport Image from './Image'\nexport Audio from './Audio'\nexport FileReader from './FileReader'\nexport HTMLElement from './HTMLElement'\nexport localStorage from './localStorage'\nexport location from './location'\nexport * from './WindowProperties'\nexport * from './constructor'\n\n// 暴露全局的 canvas\nconst canvas = new Canvas()\n\nexport { canvas }\nexport { setTimeout }\nexport { setInterval }\nexport { clearTimeout }\nexport { clearInterval }\nexport { requestAnimationFrame }\nexport { cancelAnimationFrame }\n\nexport TouchEvent from './EventIniter/TouchEvent'\n","export function noop() {}\n","import * as window from './window'\nimport HTMLElement from './HTMLElement'\nimport Image from './Image'\nimport Audio from './Audio'\nimport Canvas from './Canvas'\nimport './EventIniter/'\n\nconst events = {}\n\nconst document = {\n  readyState: 'complete',\n  visibilityState: 'visible',\n  documentElement: window,\n  hidden: false,\n  style: {},\n  location: window.location,\n  ontouchstart: null,\n  ontouchmove: null,\n  ontouchend: null,\n\n  head: new HTMLElement('head'),\n  body: new HTMLElement('body'),\n\n  createElement(tagName) {\n    if (tagName === 'canvas') {\n      return new Canvas()\n    } else if (tagName === 'audio') {\n      return new Audio()\n    } else if (tagName === 'img') {\n      return new Image()\n    }\n\n    return new HTMLElement(tagName)\n  },\n\n  getElementById(id) {\n    if (id === window.canvas.id) {\n      return window.canvas\n    }\n    return null\n  },\n\n  getElementsByTagName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  getElementsByName(tagName) {\n    if (tagName === 'head') {\n      return [document.head]\n    } else if (tagName === 'body') {\n      return [document.body]\n    } else if (tagName === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  querySelector(query) {\n    if (query === 'head') {\n      return document.head\n    } else if (query === 'body') {\n      return document.body\n    } else if (query === 'canvas') {\n      return window.canvas\n    } else if (query === `#${window.canvas.id}`) {\n      return window.canvas\n    }\n    return null\n  },\n\n  querySelectorAll(query) {\n    if (query === 'head') {\n      return [document.head]\n    } else if (query === 'body') {\n      return [document.body]\n    } else if (query === 'canvas') {\n      return [window.canvas]\n    }\n    return []\n  },\n\n  addEventListener(type, listener) {\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n  },\n\n  removeEventListener(type, listener) {\n    const listeners = events[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  },\n\n  dispatchEvent(event) {\n    const listeners = events[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default document\n","const { screenWidth, screenHeight, devicePixelRatio } = wx.getSystemInfoSync()\n\nexport const innerWidth = screenWidth\nexport const innerHeight = screenHeight\nexport { devicePixelRatio }\nexport const screen = {\n  availWidth: innerWidth,\n  availHeight: innerHeight\n}\nexport const ontouchstart = null\nexport const ontouchmove = null\nexport const ontouchend = null\n\nexport performance from './performance'\n","import HTMLElement from './HTMLElement'\n\nexport class HTMLImageElement extends HTMLElement {\n  constructor() {\n    super('img')\n  }\n}\n\nexport class HTMLCanvasElement extends HTMLElement {\n  constructor() {\n    super('canvas')\n  }\n}\n","import { HTMLCanvasElement, CanvasRenderingContext2D, WebGLRenderingContext } from './constructor'\nimport HTMLElement from './HTMLElement'\nimport document from './document'\n\nconst hasModifiedCanvasPrototype = false\nconst hasInit2DContextConstructor = false\nconst hasInitWebGLContextConstructor = false\n\nexport default function Canvas() {\n  const canvas = wx.createCanvas()\n\n  canvas.type = 'canvas'\n\n  canvas.__proto__.__proto__ = new HTMLElement('canvas')\n\n  const _getContext = canvas.getContext\n\n  canvas.getBoundingClientRect = () => {\n    const ret = {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: window.innerHeight\n    }\n    \n    return ret\n  }\n\n  canvas.setRealSize = (w, h, resultion) => {\n\n  }\n\n  // pixi.js mapPositionToPoint hack\n  canvas.__proto__.parentElement = true\n\n  return canvas\n}\n","export default function Image() {\n  const image = wx.createImage()\n\n  return image\n}\n","import HTMLAudioElement from './HTMLAudioElement'\n\nconst HAVE_NOTHING = 0\nconst HAVE_METADATA = 1\nconst HAVE_CURRENT_DATA = 2\nconst HAVE_FUTURE_DATA = 3\nconst HAVE_ENOUGH_DATA = 4\n\nconst _innerAudioContext = new WeakMap()\nconst _src = new WeakMap()\nconst _loop = new WeakMap()\nconst _autoplay = new WeakMap()\n\nexport default class Audio extends HTMLAudioElement {\n  HAVE_NOTHING = HAVE_NOTHING\n  HAVE_METADATA = HAVE_METADATA\n  HAVE_CURRENT_DATA = HAVE_CURRENT_DATA\n  HAVE_FUTURE_DATA = HAVE_FUTURE_DATA\n  HAVE_ENOUGH_DATA = HAVE_ENOUGH_DATA\n  readyState = HAVE_NOTHING\n\n  constructor(url) {\n    super()\n\n    _src.set(this, '')\n\n    const innerAudioContext = wx.createInnerAudioContext()\n\n    _innerAudioContext.set(this, innerAudioContext)\n\n    innerAudioContext.onCanplay(() => {\n      this.dispatchEvent({ type: 'load' })\n      this.dispatchEvent({ type: 'loadend' })\n      this.dispatchEvent({ type: 'canplay' })\n      this.dispatchEvent({ type: 'canplaythrough' })\n      this.dispatchEvent({ type: 'loadedmetadata' })\n      this.readyState = HAVE_CURRENT_DATA\n    })\n    innerAudioContext.onPlay(() => {\n      this.dispatchEvent({ type: 'play' })\n    })\n    innerAudioContext.onPause(() => {\n      this.dispatchEvent({ type: 'pause' })\n    })\n    innerAudioContext.onEnded(() => {\n      this.dispatchEvent({ type: 'ended' })\n      this.readyState = HAVE_ENOUGH_DATA\n    })\n    innerAudioContext.onError(() => {\n      this.dispatchEvent({ type: 'error' })\n    })\n\n    if (url) {\n      _innerAudioContext.get(this).src = url\n    }\n  }\n\n  load() {\n    console.warn('HTMLAudioElement.load() is not implemented.')\n  }\n\n  play() {\n    _innerAudioContext.get(this).play()\n  }\n\n  pause() {\n    _innerAudioContext.get(this).pause()\n  }\n\n  canPlayType(mediaType = '') {\n    if (typeof mediaType !== 'string') {\n      return ''\n    }\n\n    if (mediaType.indexOf('audio/mpeg') > -1 || mediaType.indexOf('audio/mp4')) {\n      return 'probably'\n    }\n    return ''\n  }\n\n  get currentTime() {\n    return _innerAudioContext.get(this).currentTime\n  }\n\n  set currentTime(value) {\n    _innerAudioContext.get(this).seek(value)\n  }\n\n  get src() {\n    return _src.get(this)\n  }\n\n  set src(value) {\n    _src.set(this, value)\n    _innerAudioContext.get(this).src = value\n  }\n\n  get loop() {\n    return _innerAudioContext.get(this).loop\n  }\n\n  set loop(value) {\n    _innerAudioContext.get(this).loop = value\n  }\n\n  get autoplay() {\n    return _innerAudioContext.get(this).autoplay\n  }\n\n  set autoplay(value) {\n    _innerAudioContext.get(this).autoplay = value\n  }\n\n  get paused() {\n    return _innerAudioContext.get(this).paused\n  }\n\n  cloneNode() {\n    const newAudio = new Audio()\n\n    newAudio.loop = _innerAudioContext.get(this).loop\n    newAudio.autoplay = _innerAudioContext.get(this).autoplay\n    newAudio.src = this.src\n    return newAudio\n  }\n}\n","import * as window from '../window'\nimport document from '../document'\nimport { noop } from '../util/'\n\nexport default class TouchEvent {\n  target = window.canvas\n  currentTarget = window.canvas\n  touches = []\n  targetTouches = []\n  changedTouches = []\n  preventDefault = noop\n  stopPropagation = noop\n  constructor(type) {\n    this.type = type\n  }\n}\n\nfunction touchEventHandlerFactory(type) {\n  return (event) => {\n    const touchEvent = new TouchEvent(type)\n\n    touchEvent.touches = event.touches\n    touchEvent.targetTouches = Array.prototype.slice.call(event.touches)\n    touchEvent.changedTouches = event.changedTouches\n    touchEvent.timeStamp = event.timeStamp\n    document.dispatchEvent(touchEvent)\n  }\n}\n\nwx.onTouchStart(touchEventHandlerFactory('touchstart'))\nwx.onTouchMove(touchEventHandlerFactory('touchmove'))\nwx.onTouchEnd(touchEventHandlerFactory('touchend'))\nwx.onTouchCancel(touchEventHandlerFactory('touchcancel'))\n","import * as _window from './window'\nimport HTMLElement from './HTMLElement'\n\nconst global = GameGlobal\n\nfunction inject() {\n  _window.addEventListener = (type, listener) => {\n    _window.document.addEventListener(type, listener)\n  }\n  _window.removeEventListener = (type, listener) => {\n    _window.document.removeEventListener(type, listener)\n  }\n\n  if (_window.canvas) {\n    _window.canvas.addEventListener = _window.addEventListener\n    _window.canvas.removeEventListener = _window.removeEventListener\n  }\n\n  const { platform } = wx.getSystemInfoSync()\n\n  // 开发者工具无法重定义 window\n  if (platform === 'devtools') {\n    for (const key in _window) {\n      const descriptor = Object.getOwnPropertyDescriptor(global, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(window, key, {\n          value: _window[key]\n        })\n      }\n    }\n\n    for (const key in _window.document) {\n      const descriptor = Object.getOwnPropertyDescriptor(global.document, key)\n\n      if (!descriptor || descriptor.configurable === true) {\n        Object.defineProperty(global.document, key, {\n          value: _window.document[key]\n        })\n      }\n    }\n    window.parent = window\n  } else {\n    for (const key in _window) {\n      global[key] = _window[key]\n    }\n    global.window = _window\n    window = global\n    window.top = window.parent = window\n  }\n}\n\nif (!GameGlobal.__isAdapterInjected) {\n  GameGlobal.__isAdapterInjected = true\n  inject()\n}\n","let performance\n\nif (wx.getPerformance) {\n  const { platform } = wx.getSystemInfoSync()\n  const wxPerf = wx.getPerformance()\n  const initTime = wxPerf.now()\n\n  const clientPerfAdapter = Object.assign({}, wxPerf, {\n    now: function() {\n      return (wxPerf.now() - initTime) / 1000\n    }\n  })\n\n  performance = platform === 'devtools' ? wxPerf : clientPerfAdapter\n}\n\nexport default performance\n","import Node from './Node'\n\nexport default class ELement extends Node {\n  className = ''\n  children = []\n\n  constructor() {\n    super()\n  }\n}\n","import EventTarget from './EventTarget'\n\nexport default class Node extends EventTarget {\n  constructor() {\n    super()\n  }\n\n  childNodes = []\n\n  appendChild(node) {\n    if (node instanceof Node) {\n      this.childNodes.push(node)\n    } else {\n      throw new TypeError('Failed to executed \\'appendChild\\' on \\'Node\\': parameter 1 is not of type \\'Node\\'.')\n    }\n  }\n\n  cloneNode() {\n    const copyNode = Object.create(this)\n\n    Object.assign(copyNode, this)\n    return copyNode\n  }\n\n  removeChild(node) {\n    const index = this.childNodes.findIndex((child) => child === node)\n\n    if (index > -1) {\n      return this.childNodes.splice(index, 1)\n    }\n    return null\n  }\n}\n","const _events = new WeakMap()\n\nclass EventTarget {\n  constructor() {\n    _events.set(this, {})\n  }\n\n  addEventListener(type, listener, options = {}) {\n    let events = _events.get(this)\n\n    if (!events) {\n      events = {}\n      _events.set(this, events)\n    }\n    if (!events[type]) {\n      events[type] = []\n    }\n    events[type].push(listener)\n\n    if (options.capture) {\n      console.warn('EventTarget.addEventListener: options.capture is not implemented.')\n    }\n    if (options.once) {\n      console.warn('EventTarget.addEventListener: options.once is not implemented.')\n    }\n    if (options.passive) {\n      console.warn('EventTarget.addEventListener: options.passive is not implemented.')\n    }\n  }\n\n  removeEventListener(type, listener) {\n    const listeners = _events.get(this)[type]\n\n    if (listeners && listeners.length > 0) {\n      for (let i = listeners.length; i--; i > 0) {\n        if (listeners[i] === listener) {\n          listeners.splice(i, 1)\n          break\n        }\n      }\n    }\n  }\n\n  dispatchEvent(event = {}) {\n    const listeners = _events.get(this)[event.type]\n\n    if (listeners) {\n      for (let i = 0; i < listeners.length; i++) {\n        listeners[i](event)\n      }\n    }\n  }\n}\n\nexport default EventTarget\n","import HTMLMediaElement from './HTMLMediaElement'\n\nexport default class HTMLAudioElement extends HTMLMediaElement {\n  constructor() {\n    super('audio')\n  }\n}\n","import HTMLElement from './HTMLElement'\n\nexport default class HTMLMediaElement extends HTMLElement {\n  constructor(type) {\n    super(type)\n  }\n\n  addTextTrack() {\n  }\n\n  captureStream() {\n  }\n\n  fastSeek() {\n  }\n\n  load() {\n  }\n\n  pause() {\n  }\n\n  play() {\n  }\n}\n","import './TouchEvent'\n","import { noop } from './util'\n\n// TODO 需要 wx.getSystemInfo 获取更详细信息\nconst { platform } = wx.getSystemInfoSync()\nconst navigator = {\n  platform,\n  language: 'zh-cn',\n  appVersion: '5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1',\n  userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/zh_CN',\n  onLine: true, // TODO 用 wx.getNetworkStateChange 和 wx.onNetworkStateChange 来返回真实的状态\n\n  // TODO 用 wx.getLocation 来封装 geolocation\n  geolocation: {\n    getCurrentPosition: noop,\n    watchPosition: noop,\n    clearWatch: noop\n  }\n}\n\nexport default navigator\n","const _url = new WeakMap()\nconst _method = new WeakMap()\nconst _requestHeader = new WeakMap()\nconst _responseHeader = new WeakMap()\nconst _requestTask = new WeakMap()\n\nfunction _triggerEvent(type, ...args) {\n  if (typeof this[`on${type}`] === 'function') {\n    this[`on${type}`].apply(this, args)\n  }\n}\n\nfunction _changeReadyState(readyState) {\n  this.readyState = readyState\n  _triggerEvent.call(this, 'readystatechange')\n}\n\nexport default class XMLHttpRequest {\n  // TODO 没法模拟 HEADERS_RECEIVED 和 LOADING 两个状态\n  static UNSEND = 0\n  static OPENED = 1\n  static HEADERS_RECEIVED = 2\n  static LOADING = 3\n  static DONE = 4\n\n  /*\n   * TODO 这一批事件应该是在 XMLHttpRequestEventTarget.prototype 上面的\n   */\n  onabort = null\n  onerror = null\n  onload = null\n  onloadstart = null\n  onprogress = null\n  ontimeout = null\n  onloadend = null\n\n  onreadystatechange = null\n  readyState = 0\n  response = null\n  responseText = null\n  responseType = ''\n  responseXML = null\n  status = 0\n  statusText = ''\n  upload = {}\n  withCredentials = false\n\n  constructor() {\n    _requestHeader.set(this, {\n      'content-type': 'application/x-www-form-urlencoded'\n    })\n    _responseHeader.set(this, {})\n  }\n\n  addEventListener(ev, cb) {\n    this[`on${ev}`] = cb\n  }\n\n  abort() {\n    const myRequestTask =  _requestTask.get(this)\n\n    if (myRequestTask) {\n      myRequestTask.abort()\n    }\n  }\n\n  getAllResponseHeaders() {\n    const responseHeader = _responseHeader.get(this)\n\n    return Object.keys(responseHeader).map((header) => {\n      return `${header}: ${responseHeader[header]}`\n    }).join('\\n')\n  }\n\n  getResponseHeader(header) {\n    return _responseHeader.get(this)[header]\n  }\n\n  open(method, url/* async, user, password 这几个参数在小程序内不支持*/) {\n    _method.set(this, method)\n    _url.set(this, url)\n    _changeReadyState.call(this, XMLHttpRequest.OPENED)\n  }\n\n  overrideMimeType() {\n  }\n\n  send(data = '') {\n    if (this.readyState !== XMLHttpRequest.OPENED) {\n      throw new Error(\"Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.\")\n    } else {\n      const responseType = this.responseType === 'blob' ?\n        (this.responseType = 'arraybuffer', 'blob') : null\n\n      wx.request({\n        data,\n        url: _url.get(this),\n        method: _method.get(this),\n        header: _requestHeader.get(this),\n        responseType: this.responseType,\n        success: ({ data, statusCode, header }) => {\n          if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n            try {\n              data = JSON.stringify(data)\n            } catch (e) {\n              data = data\n            }\n          }\n\n          this.status = statusCode\n          _responseHeader.set(this, header)\n          _triggerEvent.call(this, 'loadstart')\n          _changeReadyState.call(this, XMLHttpRequest.HEADERS_RECEIVED)\n          _changeReadyState.call(this, XMLHttpRequest.LOADING)\n          this.response = responseType === 'blob' ? _url.get(this) : data\n          if (data instanceof ArrayBuffer) {\n            this.responseText = ''\n            const bytes = new Uint8Array(data)\n            const len = bytes.byteLength\n\n            for (let i = 0; i < len; i++) {\n              this.responseText += String.fromCharCode(bytes[i])\n            }\n          } else {\n            this.responseText = data\n          }\n          _changeReadyState.call(this, XMLHttpRequest.DONE)\n          _triggerEvent.call(this, 'load', { target: this })\n          _triggerEvent.call(this, 'loadend')\n        },\n        fail: ({ errMsg }) => {\n          // TODO 规范错误\n          if (errMsg.indexOf('abort') !== -1) {\n            _triggerEvent.call(this, 'abort')\n          } else {\n            _triggerEvent.call(this, 'error', errMsg)\n          }\n          _triggerEvent.call(this, 'loadend')\n        }\n      })\n    }\n  }\n\n  setRequestHeader(header, value) {\n    const myHeader = _requestHeader.get(this)\n\n    myHeader[header] = value\n    _requestHeader.set(this, myHeader)\n  }\n}\n","const _socketTask = new WeakMap()\n\nclass WebSocket {\n  static CONNECTING = 0 // The connection is not yet open.\n  static OPEN = 1 // The connection is open and ready to communicate.\n  static CLOSING = 2 // The connection is in the process of closing.\n  static CLOSED = 3 // The connection is closed or couldn't be opened.\n\n  binaryType = '' // TODO 更新 binaryType\n  bufferedAmount = 0 // TODO 更新 bufferedAmount\n  extensions = ''\n\n  onclose = null\n  onerror = null\n  onmessage = null\n  onopen = null\n\n  protocol = '' // TODO 小程序内目前获取不到，实际上需要根据服务器选择的 sub-protocol 返回\n  readyState = 3\n\n  constructor(url, protocols = []) {\n    if (typeof url !== 'string' || !(/(^ws:\\/\\/)|(^wss:\\/\\/)/).test(url)) {\n      throw new TypeError(`Failed to construct 'WebSocket': The URL '${url}' is invalid`)\n    }\n\n    this.url = url\n    this.readyState = WebSocket.CONNECTING\n\n    const socketTask = wx.connectSocket({\n      url,\n      protocols: Array.isArray(protocols) ? protocols : [protocols]\n    })\n\n    _socketTask.set(this, socketTask)\n\n    socketTask.onClose((res) => {\n      this.readyState = WebSocket.CLOSED\n      if (typeof this.onclose === 'function') {\n        this.onclose(res)\n      }\n    })\n\n    socketTask.onMessage((res) => {\n      if (typeof this.onmessage === 'function') {\n        this.onmessage(res)\n      }\n    })\n\n    socketTask.onOpen(() => {\n      this.readyState = WebSocket.OPEN\n      if (typeof this.onopen === 'function') {\n        this.onopen()\n      }\n    })\n\n    socketTask.onError((res) => {\n      if (typeof this.onerror === 'function') {\n        this.onerror(new Error(res.errMsg))\n      }\n    })\n\n    return this\n  }\n\n  close(code, reason) {\n    this.readyState = WebSocket.CLOSING\n    const socketTask = _socketTask.get(this)\n\n    socketTask.close({\n      code,\n      reason\n    })\n  }\n\n  send(data) {\n    if (typeof data !== 'string' && !(data instanceof ArrayBuffer)) {\n      throw new TypeError(`Failed to send message: The data ${data} is invalid`)\n    }\n\n    const socketTask = _socketTask.get(this)\n\n    socketTask.send({\n      data\n    })\n  }\n}\n\nexport default WebSocket\n","/*\n * TODO 使用 wx.readFile 来封装 FileReader\n */\nexport default class FileReader {\n  construct() {\n  }\n}\n","const localStorage = {\n  get length() {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys.length\n  },\n\n  key(n) {\n    const { keys } = wx.getStorageInfoSync()\n\n    return keys[n]\n  },\n\n  getItem(key) {\n    return wx.getStorageSync(key)\n  },\n\n  setItem(key, value) {\n    return wx.setStorageSync(key, value)\n  },\n\n  removeItem(key) {\n    wx.removeStorageSync(key)\n  },\n\n  clear() {\n    wx.clearStorageSync()\n  }\n}\n\nexport default localStorage\n","const location = {\n  href: 'game.js',\n  reload() {\n  }\n}\n\nexport default location\n"],"sourceRoot":""}